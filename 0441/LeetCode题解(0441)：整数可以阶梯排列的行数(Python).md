# LeetCode详解(0441)：整数可以阶梯排列的行数(Python)

## 题目内容

你总共有 n 枚硬币，你需要将它们摆成一个阶梯形状，第 k 行就必须正好有 k 枚硬币。

给定一个数字 n，找出可形成完整阶梯行的总行数。

n 是一个非负整数，并且在32位有符号整型的范围内。

**示例 1：**

```
n = 5

硬币可排列成以下几行:
¤
¤ ¤
¤ ¤
```

因为第三行不完整，所以返回2.

**示例 2：**

```
n = 8

硬币可排列成以下几行:
¤
¤ ¤
¤ ¤ ¤
¤ ¤
```

因为第四行不完整，所以返回3.

> 来源：力扣（LeetCode）
> 链接：https://leetcode-cn.com/problems/arranging-coins

## 解法效率

| 解法           | 执行用时       |
| -------------- | -------------- |
| Ans 1 (Python) | 852ms (45.65%) |
| Ans 2 (Python) | 40ms (94.70%)  |

>  LeetCode的Python执行用时随缘，只要时间复杂度没有明显差异，执行用时一般都在同一个量级，仅作参考意义。

### 解法一（遍历）：

> **【思路】**
>
> 依据题意，很容易便得到如下遍历的方法。

```python
def arrangeCoins(self, n: int) -> int:
    ans = 1
    while n >= ans:
        n -= ans
        ans += 1
    return ans - 1
```

### 解法二（求通项公式）：

> **【思路】**
>
> 解法一完整地进行了等差数列求和的运算，因此速度较慢，于是我们思考能否直接使用等差数列求和公式得出结果。
>
> 我们将最终的解设为x，使用等差数列求和公式，得到一元二次方程：
>
> $x^2+x-2n=0$；
>
> 解得：$x1=\frac{-1+\sqrt{1+8n}}{2}$、$x2=\frac{-1-\sqrt{1+8n}}{2}$（舍去）
>
> 由此，得到通项公式：$x=\frac{-1+\sqrt{1+8n}}{2}$，代码实现如下：

```python
def arrangeCoins(self, n: int) -> int:
    return int((pow(8 * n + 1, 0.5) - 1) / 2)
```